!function(o){"function"==typeof define&&define.amd?define(["jquery"],o):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),o(t)}:o(window.jQuery)}(function(u){u.FE.PLUGINS.fullscreen=function(o){function r(){return o.$box.hasClass("fr-fullscreen")}function e(){l=o.helpers.scrollTop(),o.$box.toggleClass("fr-fullscreen"),u("body:first").toggleClass("fr-fullscreen"),a=u('<div style="display: none;"></div>'),o.$box.after(a),o.helpers.isMobile()&&(o.$tb.data("parent",o.$tb.parent()),o.$tb.prependTo(o.$box),o.$tb.data("sticky-dummy")&&o.$tb.after(o.$tb.data("sticky-dummy"))),f=o.opts.height,c=o.opts.heightMax,d=o.opts.zIndex,o.opts.height=o.o_win.innerHeight-(o.opts.toolbarInline?0:o.$tb.outerHeight()),o.opts.zIndex=9990,o.opts.heightMax=null,o.size.refresh(),o.opts.toolbarInline&&o.toolbar.showInline();for(var e=o.$box.parent();!e.is("body:first");)e.data("z-index",e.css("z-index")).data("overflow",e.css("overflow")).css("z-index","2147483640").css("overflow","visible"),e=e.parent();o.events.trigger("charCounter.update"),o.$win.trigger("scroll")}function t(){o.$box.toggleClass("fr-fullscreen"),u("body:first").toggleClass("fr-fullscreen"),o.$tb.prependTo(o.$tb.data("parent")),o.$tb.data("sticky-dummy")&&o.$tb.after(o.$tb.data("sticky-dummy")),o.opts.height=f,o.opts.heightMax=c,o.opts.zIndex=d,o.size.refresh(),u(o.o_win).scrollTop(l),o.opts.toolbarInline&&o.toolbar.showInline(),o.events.trigger("charCounter.update"),o.opts.toolbarSticky&&o.opts.toolbarStickyOffset&&(o.opts.toolbarBottom?o.$tb.css("bottom",o.opts.toolbarStickyOffset).data("bottom",o.opts.toolbarStickyOffset):o.$tb.css("top",o.opts.toolbarStickyOffset).data("top",o.opts.toolbarStickyOffset));for(var e=o.$box.parent();!e.is("body:first");)e.data("z-index")&&(e.css("z-index",""),e.css("z-index")!=e.data("z-index")&&e.css("z-index",e.data("z-index")),e.removeData("z-index")),e.data("overflow")?(e.css("overflow",""),e.css("overflow")!=e.data("overflow")&&e.css("overflow",e.data("overflow"))):e.css("overflow",""),e.removeData("overflow"),e=e.parent();o.$win.trigger("scroll")}function s(){r()?t():e(),n(o.$tb.find('.fr-command[data-cmd="fullscreen"]'))}function n(e){var t=r();e.toggleClass("fr-active",t).attr("aria-pressed",t),e.find("> *:not(.fr-sr-only)").replaceWith(t?o.icon.create("fullscreenCompress"):o.icon.create("fullscreen"))}function i(){if(!o.$wp)return!1;o.events.$on(u(o.o_win),"resize",function(){r()&&(t(),e())}),o.events.on("toolbar.hide",function(){if(r()&&o.helpers.isMobile())return!1}),o.events.on("destroy",function(){r()&&t()},!0)}var l,a,f,c,d;return{_init:i,toggle:s,refresh:n,isActive:r}},u.FE.RegisterCommand("fullscreen",{title:"Fullscreen",undo:!1,focus:!1,accessibilityFocus:!0,forcedRefresh:!0,toggle:!0,callback:function(){this.fullscreen.toggle()},refresh:function(e){this.fullscreen.refresh(e)},plugin:"fullscreen"}),u.FE.DefineIcon("fullscreen",{NAME:"expand"}),u.FE.DefineIcon("fullscreenCompress",{NAME:"compress"})});